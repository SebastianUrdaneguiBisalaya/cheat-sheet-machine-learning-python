---
interface Props {
  code: string;
  language?: string;
}

const { code, language = "python" } = Astro.props as Props;
---

<div class="relative mb-4 border rounded-lg overflow-hidden bg-gray-800">
  <div class="flex items-center p-2 bg-gray-700">
    <!-- Botones estilo macOS -->
    <div class="flex space-x-2">
      <span class="w-3 h-3 rounded-full bg-red-500"></span>
      <span class="w-3 h-3 rounded-full bg-yellow-500"></span>
      <span class="w-3 h-3 rounded-full bg-green-500"></span>
    </div>

    <!-- Botón para copiar el código -->
    <button
      class="ml-auto text-gray-400 hover:text-white"
      onclick={`navigator.clipboard.writeText(${JSON.stringify(code)}).then(() => alert('¡Código copiado!')).catch(err => console.error('Error al copiar:', err));`}
      aria-label="Copiar código"
    >
      📋
    </button>
  </div>

  <!-- Bloque de código con estilo -->
  <pre
    class="p-4 overflow-x-auto">
    <code class={`language-${language} text-white`}>{code}</code>
  </pre>
</div>
