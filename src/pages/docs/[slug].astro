---
import { getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";
import HomeLayout from "@layouts/HomeLayout.astro";
import Title from "@components/Text/Title.astro";
import Caption from "@components/Text/Caption.astro";

export async function getStaticPaths() {
  const indexs = await getCollection("indexs");
  const res = indexs.flatMap((item) => item.data.items);
  return res.map(({ slug, title, linkes }) => {
    return {
      params: { slug },
      props: { slug, title, linkes },
    };
  });
}

const { slug, title } = Astro.props;
---

<Layout>
  <HomeLayout>
    <div class="max-w-2xl w-full">
      <Title text={title} className="text-white text-left" />
    </div>
    <div class="h-full relative hidden xl:block">
      <div
        class="w-56 h-[calc(100vh-3.5rem)] pr-6 fixed overflow-y-auto scrollbar"
      >
        <nav>
          <Caption text="Contenido" className="text-white font-bold" />
          <ul class="list-none">
            <li class="py-0.5">
              <a href="">
                <Caption
                  text="Item 1"
                  className="text-gray-400 font-normal block cursor-pointer hover:text-gray-200"
                />
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </HomeLayout>
</Layout>
