---
import { getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";
import Logo from "@components/Logo.astro";
import Subtitle from "@components/Text/Subtitle.astro";
import Caption from "@components/Text/Caption.astro";
const indexs = await getCollection("indexs");

interface Index {
		slug: string;
		title: string;
		"link-es": string;
}[];
---

<Layout>
  <header
    class="flex flex-row px-4 lg:px-8 xl:px-12 border-b-[0.5px] border-gray-500"
  >
    <nav
      class="flex flex-row w-full justify-between items-center py-4 max-w-8xl"
    >
      <Logo />
      <div class="flex flex-row justify-between items-center gap-6">
        <div class="flex flex-row justify-between items-center gap-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            viewBox="0 0 512 512"
            ><mask id="IconifyId1955405c38a88a7c1"
              ><circle cx="256" cy="256" r="256" fill="#fff"></circle></mask
            ><g mask="url(#IconifyId1955405c38a88a7c1)"
              ><path
                fill="#d80027"
                d="M0 0h512v128l-39.8 130.3L512 384v128H0V384l37.8-124L0 128z"
              ></path><path fill="#ffda44" d="M0 128h512v256H0z"></path></g
            ></svg
          >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="25"
            height="25"
            viewBox="0 0 512 512"
            ><mask id="IconifyId1955405c38a88a7c3"
              ><circle cx="256" cy="256" r="256" fill="#fff"></circle></mask
            ><g mask="url(#IconifyId1955405c38a88a7c3)"
              ><path
                fill="#eee"
                d="M256 0h256v64l-32 32l32 32v64l-32 32l32 32v64l-32 32l32 32v64l-256 32L0 448v-64l32-32l-32-32v-64z"
              ></path><path
                fill="#d80027"
                d="M224 64h288v64H224Zm0 128h288v64H256ZM0 320h512v64H0Zm0 128h512v64H0Z"
              ></path><path fill="#0052b4" d="M0 0h256v256H0Z"></path><path
                fill="#eee"
                d="m187 243l57-41h-70l57 41l-22-67zm-81 0l57-41H93l57 41l-22-67zm-81 0l57-41H12l57 41l-22-67zm162-81l57-41h-70l57 41l-22-67zm-81 0l57-41H93l57 41l-22-67zm-81 0l57-41H12l57 41l-22-67Zm162-82l57-41h-70l57 41l-22-67Zm-81 0l57-41H93l57 41l-22-67zm-81 0l57-41H12l57 41l-22-67Z"
              ></path></g
            ></svg
          >
        </div>
        <a href="" target="_blank" rel="noopener noreferrer">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="30"
            height="30"
            viewBox="0 0 24 24"
            ><path
              fill="#ffffff"
              d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"
            ></path></svg
          >
        </a>
      </div>
    </nav>
  </header>
  <main
    class="max-w-8xl min-h-screen relative flex flex-row px-4 lg:px-8 xl:px-12"
  >
    <aside id="sidebar" class="hidden lg:block lg:relative">
      <div class="scrollbar sticky top-[3.5rem] overflow-y-auto w-full h-[calc(100vh-3.5rem)] overflow-x-hidden">
        <div class="w-72 py-10 pr-6 xl:pr-12">
					{
						indexs.map((index) => (
							<Subtitle text={index.data.title} className="text-white" />
							<ul class="list-none py-4">
								{
									index.data.items.map((info: Index) => (
										<li class="pl-4 border-l-[2px] border-l-gray-700 py-0.5 w-full">
											<a href={info["link-es"]} class="w-full block">
												<Caption text={info.title} className="text-gray-400 block cursor-pointer hover:text-gray-200" />
											</a>
										</li>
									))
								}
							</ul>
						))
					}
        </div>
      </div>
    </aside>
    <div id="container-info"></div>
  </main>
</Layout>
